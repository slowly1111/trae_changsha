# 产品需求文档 (PRD) - 情绪熔炉 (Furnace)

| 文档属性 | 内容 |
| :--- | :--- |
| **产品名称** | 情绪熔炉 (Furnace) |
| **版本号** | v2.0 |
| **文档状态** | 正式发布 |
| **最后更新** | 2026-01-27 |
| **撰写人** | Product Manager |

---

## 1. 产品综述 (Product Overview)

### 1.1 项目背景
在快节奏的现代生活中，"情绪价值"已成为互联网产品的核心竞争力之一。特别是在辞旧迎新（2025 -> 2026）的时间节点，用户普遍存在对过去一年遗憾、焦虑、压力的宣泄需求，以及对新一年的期许需求。传统的文字总结或简单的许愿产品已难以满足用户深层次的情感释放需求。

### 1.2 产品定位
**一款基于 AI 语义分析与沉浸式交互的"数字疗愈"（Digital Healing）工具。**
通过"具象化销毁"和"情感重构"的双重机制，为用户提供一场关于告别与新生的心理仪式。

### 1.3 核心价值主张 (Value Proposition)
*   **情绪实体化与销毁**：将不可见的负面情绪转化为可视化的文字粒子，通过长按、震动、破碎等物理模拟交互，提供真实的"释放感"。
*   **AI 情感共鸣**：利用 LLM（大语言模型）并非简单生成内容，而是进行深度的情感理解与转化，输出具有电影质感、非说教的治愈文案。
*   **通感体验**：结合视觉（粒子特效）、触觉（震动反馈）、听觉（动态白噪音与音乐），打造全感官的沉浸体验。

---

## 2. 用户画像 (User Persona)

*   **核心受众**：20-35岁，一二线城市职场人、学生。
*   **特征**：
    *   承受一定的职场或学业压力。
    *   注重生活仪式感与审美。
    *   有在社交媒体分享"各种盘点"或"新年签"的习惯。
    *   对 AI 产品有尝试意愿，但厌倦了生硬的机器人对话。

---

## 3. 核心体验链路 (Core User Journey)

产品交互遵循 **"三部曲" (The Trilogy)** 叙事结构：

### Phase 1: 能量积蓄 (The Input & Buildup)
*   **场景**：用户进入全黑/深色静谧空间。
*   **行为**：输入 2025 年的一段难忘或负面的记忆/情绪。
*   **交互创新**：
    *   **长按熔断机制**（Long-press to Burn）：用户需持续按住按钮 2 秒。
    *   **阻力感设计**：随着按压时间增加，视觉产生高频震动（Shake），文字颜色从白炽化变为红热，音效层层递进（柴火燃烧声），模拟"升温"过程。
    *   **心理学原理**：通过增加操作成本（长按而非点击），让用户在物理动作中通过"用力"来宣泄情绪。

### Phase 2: 毁灭与坍缩 (The Collapse)
*   **触点**：长按结束或达到临界点。
*   **表现**：
    *   **粒子化 (Particle Effect)**：文本瞬间崩解为数千个微小粒子，受热气流影响向上飘散、模糊、消失。
    *   **视觉留白**：屏幕进入短暂的极简或全黑状态，象征旧事物的彻底消亡与短暂的虚无感。

### Phase 3: 重生与回响 (The Rebirth)
*   **触点**：AI 分析完成后（约 1-2 秒）。
*   **表现**：
    *   **光影重构**：如黎明破晓般，背景色调转暖（流金/晨曦色）。
    *   **治愈回响**：AI 生成的治愈文案以电影字幕形式逐字浮现。
    *   **灵魂关键词**：提炼出的 2026 年度关键词以书法/衬线体呈现，作为核心视觉锚点。
    *   **听觉疗愈**：根据情绪倾向自动匹配的新年 BGM 响起。

---

## 4. 功能需求说明 (Functional Requirements)

### 4.1 前端交互层 (Frontend)

| 模块 | 功能点 | 详细描述 | 优先级 |
| :--- | :--- | :--- | :--- |
| **输入区** | 沉浸式输入 | 支持多行文本，输入时背景微弱呼吸光效；输入框去边框化设计，融入环境。 | P0 |
| **控制区** | 熔断按钮 | 拟物化交互。支持 `touchstart` / `mousedown` 长按检测。 | P0 |
| **反馈机制** | 触觉反馈 | 移动端调用 `navigator.vibrate`，震动强度随按压时长线性增强（线性马达效果）。 | P1 |
| **视觉特效** | 粒子系统 | 基于 Canvas 或 DOM 的高标清粒子动画，模拟物理重力与热对流。 | P0 |
| **重生页** | 动态排版 | 竖排文字布局（Vertical Layout），支持衬线体；关键词使用渐变流光效果。 | P0 |
| **分享模块** | 海报生成 | 将依然存在的治愈文案、关键词、印章（丙午年）合成为高精度图片。 | P1 |

### 4.2 后端算法与 AI 层 (Backend & AI)

| 模块 | 逻辑说明 | 输入/输出 | 优先级 |
| :--- | :--- | :--- | :--- |
| **情感分类** | 识别用户文本的情绪基调 | Input: 用户文本<br>Output: `stress`(压力), `regret`(遗憾), `anger`(愤怒), `lost`(迷茫) | P0 |
| **文案生成** | 根据情绪生成治愈回复 | **核心策略：物理守恒逻辑 (The Law of Conservation of Emotion)**<br>不再简单安慰，而是描述情绪能量的转换。<br>**公式**：`[感官意象] + [空间改变/痕迹] + [赋予当下的意义]`<br>**示例**：“那些遗憾，是缝进骨缝里的旧针脚，让你在起风时有更厚实的底色。” | P0 |
| **关键词提取** | 提取 2 字核心词 | **策略：物理/情感升华**<br>悲伤 -> [沉淀]; 迷茫 -> [夜航]; 愤怒 -> [淬火] | P0 |
| **音乐映射** | 情感 -> 音乐库 | Stress -> 轻松愉悦曲风<br>Regret -> 温暖治愈曲风<br>Anger -> 激昂力量曲风 | P1 |

#### 4.2.1 AI 提示词核心架构 (Prompt Framework)

为确保“非说教”和“意义感”，Prompt 包含以下关键层级：

1.  **Role (人设)**: 融合王家卫电影韵味与鲁米哲学思想的“数字疗愈师”。
2.  **Core Philosophy (核心哲学)**: 物理化映射 (Physical Mapping) —— 情绪不会消失，只会留下物理痕迹（厚度、温度、回声）。
3.  **Constraints (约束)**:
    *   **Cliché Blacklist**: 严禁使用“车票/末班车/明天会更好”。
    *   **Sensory Details**: 必须包含触觉或重力描述。
    *   **Cyber-Zen Tone**: 东方极简 + 赛博禅意。
4.  **Output Format**:
    ```json
    {
      "healing_text": "30-50字物理化文案",
      "soul_keyword": "情感升华关键词",
      "lighting_coefficient": "0.0-1.0 (光影氛围参数)"
    }
    ```

### 4.3 性能与体验指标 (Non-Functional)

*   **首屏加载**：LCP < 1.5s（采用 Next.js SSR 优化）。
*   **动画帧率**：核心粒子动画需保持 60fps，低端机型自动降级（减少粒子数）。
*   **AI 响应**：端到端延迟控制在 3s 以内。若 API 超时，必须无缝切换至本地兜底逻辑（Mock Data），确保体验不中断。

---

## 5. UI/UX 设计规范 (Design Language)

*   **视觉风格**：**东方极简 (Oriental Minimalism)** 结合 **赛博禅意 (Cyber-Zen)**。
*   **色彩体系**：
    *   *Before*: 黑金、炭灰、余烬红。
    *   *After*: 羊皮纸白、流金、朱砂红（印章）。
*   **字体**：
    *   标题/关键词：宋体/明体（Songti SC），强调人文感。
    *   正文：系统默认衬线体。
    *   数字：旧式数字（Old-style figures）或等高数字（Lining figures）的精细化处理。

---

## 6. 数据与分析架构 (Data & Analytics)

本产品采用 **双轨数据采集策略**：Google Analytics 负责宏观流量与行为分析，Supabase 负责微观用户记录与产品功能支撑。

### 6.1 Google Analytics (GA4)

**Measurement ID**: `G-X1M15ZEGFL`

#### 核心漏斗事件

| 事件名称 | 触发时机 | 参数 |
| :--- | :--- | :--- |
| `page_view` | 进入主页 | `page` |
| `input_start` | 开始在文本框输入 | `text_length` |
| `burn_attempt` | 按下"熔断"按钮 | `text_length`, `edit_count` |
| `burn_complete` | 长按 2 秒完成焚烧 | `text_length`, `press_duration_ms`, `edit_count` |
| `rebirth_view` | 看到重生页面 | `emotion_type`, `keyword` |
| `poster_save` | 保存海报 | `emotion_type`, `keyword` |
| `music_play` | 播放背景音乐 | `auto_play` (boolean) |
| `restart` | 点击重新开始 | `stay_duration_seconds` |

#### 行为深度分析

| 事件名称 | 意义 | 参数 |
| :--- | :--- | :--- |
| `burn_abandon` | 按下但未完成（中途放开） | `progress_percent`, `text_length` |
| `page_stay_duration` | 在重生页停留时长 | `duration_seconds` |

---

### 6.2 Supabase 数据存储

**Project URL**: `https://ctpwhpwjpyzopignkawn.supabase.co`

#### 数据库表结构 (burn_records)

| 字段名 | 类型 | 说明 |
| :--- | :--- | :--- |
| `id` | UUID | 主键，自动生成 |
| `session_id` | TEXT | 匿名用户标识（localStorage UUID） |
| `input_text` | TEXT | 用户输入的原始文本 |
| `emotion_type` | TEXT | AI 分析的情绪类型 |
| `healing_text` | TEXT | AI 生成的治愈文案 |
| `soul_keyword` | TEXT | 提取的灵魂关键词 |
| `press_duration_ms` | INTEGER | 长按持续时间（毫秒） |
| `saved_poster` | BOOLEAN | 是否保存了海报 |
| `created_at` | TIMESTAMP | 记录创建时间 |

#### 安全策略 (Row Level Security)

- **插入**：允许匿名用户插入记录
- **查询**：允许匿名用户读取自己的记录
- **更新**：允许匿名用户更新自己的记录（海报保存状态）

#### 数据用途

1. **用户历史回顾**：展示"上次你焚烧了..."
2. **情绪日记功能**：基于 `session_id` 构建个人情绪轨迹
3. **内容分析**：原始文本可用于后续 AI 训练/优化
4. **运营报表**：统计情绪分布、关键词词云

---

### 6.3 SEO 配置

| 配置项 | 内容 |
| :--- | :--- |
| **标题** | 情绪熔炉 \| 将 2025 的遗憾焚烧成 2026 的希望 |
| **描述** | AI 驱动的数字疗愈工具，沉浸式交互体验，焚烧负面记忆，获取治愈文案 |
| **关键词** | 情绪熔炉、数字疗愈、AI 疗愈、新年仪式、2025 告别、情绪释放 |
| **Open Graph** | 已配置社交分享卡片（微信/微博/Twitter） |
| **Sitemap** | 动态生成，自动提交搜索引擎 |

---

## 7. 未来迭代规划 (Roadmap)

*   **v2.1**: 增加"多人熔炉"模式，用户可看到此刻正在一起销毁烦恼的陌生人产生的火花（弱社交）。
*   **v2.2**: 支持语音输入，通过声音的纹理分析情绪。
*   **v2.3**: 基于 Supabase 数据构建"年度情绪报告"功能。
*   **v3.0**: 引入 Web3 概念，将销毁的记忆铸造为不可篡改的纪念 NFT（Soulbound Token）。


